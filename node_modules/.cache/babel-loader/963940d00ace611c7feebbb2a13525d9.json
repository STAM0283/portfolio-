{"ast":null,"code":"var AWS = require('./core');\n\nvar inherit = AWS.util.inherit;\n/**\n * This class encapsulates the the response information\n * from a service request operation sent through {AWS.Request}.\n * The response object has two main properties for getting information\n * back from a request:\n *\n * ## The `data` property\n *\n * The `response.data` property contains the serialized object data\n * retrieved from the service request. For instance, for an\n * Amazon DynamoDB `listTables` method call, the response data might\n * look like:\n *\n * ```\n * > resp.data\n * { TableNames:\n *    [ 'table1', 'table2', ... ] }\n * ```\n *\n * The `data` property can be null if an error occurs (see below).\n *\n * ## The `error` property\n *\n * In the event of a service error (or transfer error), the\n * `response.error` property will be filled with the given\n * error data in the form:\n *\n * ```\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\n *   message: 'Some human readable error message' }\n * ```\n *\n * In the case of an error, the `data` property will be `null`.\n * Note that if you handle events that can be in a failure state,\n * you should always check whether `response.error` is set\n * before attempting to access the `response.data` property.\n *\n * @!attribute data\n *   @readonly\n *   @!group Data Properties\n *   @note Inside of a {AWS.Request~httpData} event, this\n *     property contains a single raw packet instead of the\n *     full de-serialized service response.\n *   @return [Object] the de-serialized response data\n *     from the service.\n *\n * @!attribute error\n *   An structure containing information about a service\n *   or networking error.\n *   @readonly\n *   @!group Data Properties\n *   @note This attribute is only filled if a service or\n *     networking error occurs.\n *   @return [Object]\n *     * code [String] a unique short code representing the\n *       error that was emitted.\n *     * message [String] a longer human readable error message\n *     * retryable [Boolean] whether the error message is\n *       retryable.\n *\n * @!attribute requestId\n *   @readonly\n *   @!group Data Properties\n *   @return [String] the unique request ID associated with the response.\n *     Log this value when debugging requests for AWS support.\n *\n * @!attribute retryCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of retries that were\n *     attempted before the request was completed.\n *\n * @!attribute redirectCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of redirects that were\n *     followed before the request was completed.\n *\n * @!attribute httpResponse\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpResponse] the raw HTTP response object\n *     containing the response headers and body information\n *     from the server.\n *\n * @see AWS.Request\n */\n\nAWS.Response = inherit({\n  /**\n   * @api private\n   */\n  constructor: function Response(request) {\n    this.request = request;\n    this.data = null;\n    this.error = null;\n    this.retryCount = 0;\n    this.redirectCount = 0;\n    this.httpResponse = new AWS.HttpResponse();\n\n    if (request) {\n      this.maxRetries = request.service.numRetries();\n      this.maxRedirects = request.service.config.maxRedirects;\n    }\n  },\n\n  /**\n   * Creates a new request for the next page of response data, calling the\n   * callback with the page data if a callback is provided.\n   *\n   * @callback callback function(err, data)\n   *   Called when a page of data is returned from the next request.\n   *\n   *   @param err [Error] an error object, if an error occurred in the request\n   *   @param data [Object] the next page of data, or null, if there are no\n   *     more pages left.\n   * @return [AWS.Request] the request object for the next page of data\n   * @return [null] if no callback is provided and there are no pages left\n   *   to retrieve.\n   * @api experimental\n   * @since v1.4.0\n   */\n  nextPage: function nextPage(callback) {\n    var config;\n    var service = this.request.service;\n    var operation = this.request.operation;\n\n    try {\n      config = service.paginationConfig(operation, true);\n    } catch (e) {\n      this.error = e;\n    }\n\n    if (!this.hasNextPage()) {\n      if (callback) callback(this.error, null);else if (this.error) throw this.error;\n      return null;\n    }\n\n    var params = AWS.util.copy(this.request.params);\n\n    if (!this.nextPageTokens) {\n      return callback ? callback(null, null) : null;\n    } else {\n      var inputTokens = config.inputToken;\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n\n      for (var i = 0; i < inputTokens.length; i++) {\n        params[inputTokens[i]] = this.nextPageTokens[i];\n      }\n\n      return service.makeRequest(this.request.operation, params, callback);\n    }\n  },\n\n  /**\n   * @return [Boolean] whether more pages of data can be returned by further\n   *   requests\n   * @api experimental\n   * @since v1.4.0\n   */\n  hasNextPage: function hasNextPage() {\n    this.cacheNextPageTokens();\n    if (this.nextPageTokens) return true;\n    if (this.nextPageTokens === undefined) return undefined;else return false;\n  },\n\n  /**\n   * @api private\n   */\n  cacheNextPageTokens: function cacheNextPageTokens() {\n    if (this.hasOwnProperty('nextPageTokens')) return this.nextPageTokens;\n    this.nextPageTokens = undefined;\n    var config = this.request.service.paginationConfig(this.request.operation);\n    if (!config) return this.nextPageTokens;\n    this.nextPageTokens = null;\n\n    if (config.moreResults) {\n      if (!AWS.util.jamespath.find(config.moreResults, this.data)) {\n        return this.nextPageTokens;\n      }\n    }\n\n    var exprs = config.outputToken;\n    if (typeof exprs === 'string') exprs = [exprs];\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\n      var output = AWS.util.jamespath.find(expr, this.data);\n\n      if (output) {\n        this.nextPageTokens = this.nextPageTokens || [];\n        this.nextPageTokens.push(output);\n      }\n    });\n    return this.nextPageTokens;\n  }\n});","map":{"version":3,"sources":["/home/wilder/Documents/portfolio/node_modules/aws-sdk/lib/response.js"],"names":["AWS","require","inherit","util","Response","constructor","request","data","error","retryCount","redirectCount","httpResponse","HttpResponse","maxRetries","service","numRetries","maxRedirects","config","nextPage","callback","operation","paginationConfig","e","hasNextPage","params","copy","nextPageTokens","inputTokens","inputToken","i","length","makeRequest","cacheNextPageTokens","undefined","hasOwnProperty","moreResults","jamespath","find","exprs","outputToken","arrayEach","call","expr","output","push"],"mappings":"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","sourcesContent":["var AWS = require('./core');\nvar inherit = AWS.util.inherit;\n\n/**\n * This class encapsulates the the response information\n * from a service request operation sent through {AWS.Request}.\n * The response object has two main properties for getting information\n * back from a request:\n *\n * ## The `data` property\n *\n * The `response.data` property contains the serialized object data\n * retrieved from the service request. For instance, for an\n * Amazon DynamoDB `listTables` method call, the response data might\n * look like:\n *\n * ```\n * > resp.data\n * { TableNames:\n *    [ 'table1', 'table2', ... ] }\n * ```\n *\n * The `data` property can be null if an error occurs (see below).\n *\n * ## The `error` property\n *\n * In the event of a service error (or transfer error), the\n * `response.error` property will be filled with the given\n * error data in the form:\n *\n * ```\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\n *   message: 'Some human readable error message' }\n * ```\n *\n * In the case of an error, the `data` property will be `null`.\n * Note that if you handle events that can be in a failure state,\n * you should always check whether `response.error` is set\n * before attempting to access the `response.data` property.\n *\n * @!attribute data\n *   @readonly\n *   @!group Data Properties\n *   @note Inside of a {AWS.Request~httpData} event, this\n *     property contains a single raw packet instead of the\n *     full de-serialized service response.\n *   @return [Object] the de-serialized response data\n *     from the service.\n *\n * @!attribute error\n *   An structure containing information about a service\n *   or networking error.\n *   @readonly\n *   @!group Data Properties\n *   @note This attribute is only filled if a service or\n *     networking error occurs.\n *   @return [Object]\n *     * code [String] a unique short code representing the\n *       error that was emitted.\n *     * message [String] a longer human readable error message\n *     * retryable [Boolean] whether the error message is\n *       retryable.\n *\n * @!attribute requestId\n *   @readonly\n *   @!group Data Properties\n *   @return [String] the unique request ID associated with the response.\n *     Log this value when debugging requests for AWS support.\n *\n * @!attribute retryCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of retries that were\n *     attempted before the request was completed.\n *\n * @!attribute redirectCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of redirects that were\n *     followed before the request was completed.\n *\n * @!attribute httpResponse\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpResponse] the raw HTTP response object\n *     containing the response headers and body information\n *     from the server.\n *\n * @see AWS.Request\n */\nAWS.Response = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function Response(request) {\n    this.request = request;\n    this.data = null;\n    this.error = null;\n    this.retryCount = 0;\n    this.redirectCount = 0;\n    this.httpResponse = new AWS.HttpResponse();\n    if (request) {\n      this.maxRetries = request.service.numRetries();\n      this.maxRedirects = request.service.config.maxRedirects;\n    }\n  },\n\n  /**\n   * Creates a new request for the next page of response data, calling the\n   * callback with the page data if a callback is provided.\n   *\n   * @callback callback function(err, data)\n   *   Called when a page of data is returned from the next request.\n   *\n   *   @param err [Error] an error object, if an error occurred in the request\n   *   @param data [Object] the next page of data, or null, if there are no\n   *     more pages left.\n   * @return [AWS.Request] the request object for the next page of data\n   * @return [null] if no callback is provided and there are no pages left\n   *   to retrieve.\n   * @api experimental\n   * @since v1.4.0\n   */\n  nextPage: function nextPage(callback) {\n    var config;\n    var service = this.request.service;\n    var operation = this.request.operation;\n    try {\n      config = service.paginationConfig(operation, true);\n    } catch (e) { this.error = e; }\n\n    if (!this.hasNextPage()) {\n      if (callback) callback(this.error, null);\n      else if (this.error) throw this.error;\n      return null;\n    }\n\n    var params = AWS.util.copy(this.request.params);\n    if (!this.nextPageTokens) {\n      return callback ? callback(null, null) : null;\n    } else {\n      var inputTokens = config.inputToken;\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n      for (var i = 0; i < inputTokens.length; i++) {\n        params[inputTokens[i]] = this.nextPageTokens[i];\n      }\n      return service.makeRequest(this.request.operation, params, callback);\n    }\n  },\n\n  /**\n   * @return [Boolean] whether more pages of data can be returned by further\n   *   requests\n   * @api experimental\n   * @since v1.4.0\n   */\n  hasNextPage: function hasNextPage() {\n    this.cacheNextPageTokens();\n    if (this.nextPageTokens) return true;\n    if (this.nextPageTokens === undefined) return undefined;\n    else return false;\n  },\n\n  /**\n   * @api private\n   */\n  cacheNextPageTokens: function cacheNextPageTokens() {\n    if (this.hasOwnProperty('nextPageTokens')) return this.nextPageTokens;\n    this.nextPageTokens = undefined;\n\n    var config = this.request.service.paginationConfig(this.request.operation);\n    if (!config) return this.nextPageTokens;\n\n    this.nextPageTokens = null;\n    if (config.moreResults) {\n      if (!AWS.util.jamespath.find(config.moreResults, this.data)) {\n        return this.nextPageTokens;\n      }\n    }\n\n    var exprs = config.outputToken;\n    if (typeof exprs === 'string') exprs = [exprs];\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\n      var output = AWS.util.jamespath.find(expr, this.data);\n      if (output) {\n        this.nextPageTokens = this.nextPageTokens || [];\n        this.nextPageTokens.push(output);\n      }\n    });\n\n    return this.nextPageTokens;\n  }\n\n});\n"]},"metadata":{},"sourceType":"script"}